{% liquid
  assign logo = settings.logo
%}
<header class="site-header">
  <div class="container header-inner">
    <a class="brand" href="{{ routes.root_url }}" aria-label="{{ shop.name }}">
      <span class="brand-mark" aria-hidden="true"></span>
      <span class="brand-name">
        {% if logo != blank %}
          <img src="{{ logo | image_url: width: 240 }}" alt="{{ shop.name }}" style="height:20px;width:auto;display:block;">
        {% else %}
          {{ settings.brand_wordmark | default: shop.name }}
        {% endif %}
      </span>
    </a>

    <nav class="nav" aria-label="Navigation principale">
      {%- if linklists[settings.main_menu].links.size > 0 -%}
        {%- for link in linklists[settings.main_menu].links -%}
          <a href="{{ link.url }}">{{ link.title }}</a>
        {%- endfor -%}
      {%- else -%}
        <a href="{{ routes.all_products_collection_url }}">{{ 'general.navigation.shop' | t }}</a>
        <a href="/pages/story">{{ 'general.navigation.story' | t }}</a>
        <a href="/pages/contact">{{ 'general.navigation.contact' | t }}</a>
      {%- endif -%}
    </nav>

    <div class="header-actions">
      <a class="icon-btn" href="{{ routes.search_url }}" aria-label="{{ 'general.search.search' | t }}">
        <span aria-hidden="true">⌕</span>
      </a>
      <a class="icon-btn" href="{{ routes.cart_url }}" aria-label="{{ 'general.cart.cart' | t }}">
        <span aria-hidden="true">⟡</span>
      </a>
    </div>
  </div>
</header>

{% schema %}
{
  "name": "Header Somala",
  "settings": [
    { "type": "image_picker", "id": "logo", "label": "Logo (optionnel)" },
    { "type": "text", "id": "brand_wordmark", "label": "Wordmark (si pas de logo)", "default": "SOMALA" },
    { "type": "link_list", "id": "main_menu", "label": "Menu principal" }
  ]
}
{% endschema %}
