<section class="section">
  <div class="container">
    <div class="section-head">
      <div>
        <h1 class="section-title">{{ 'general.cart.cart' | t }}</h1>
        <p class="section-sub">{{ 'cart.general.subtitle' | t }}</p>
      </div>
      <a class="btn" href="{{ routes.all_products_collection_url }}">{{ 'general.navigation.continue_shopping' | t }}</a>
    </div>

    {% if cart.item_count == 0 %}
      <p class="footer-text">{{ 'cart.general.empty' | t }}</p>
    {% else %}
      <div class="card" style="padding:16px;">
        <form action="{{ routes.cart_url }}" method="post" novalidate>
          {% for item in cart.items %}
            <div style="display:grid;grid-template-columns:72px 1fr auto;gap:12px;align-items:center;padding:12px 0;border-bottom:1px solid var(--border);">
              <div style="border-radius:14px;overflow:hidden;border:1px solid var(--border);aspect-ratio:1/1;">
                {% if item.image %}
                  <img src="{{ item.image | image_url: width: 200 }}" alt="{{ item.product.title | escape }}" style="width:100%;height:100%;object-fit:cover;">
                {% endif %}
              </div>
              <div>
                <div style="display:flex;justify-content:space-between;gap:10px;">
                  <strong style="font-size:13px;">{{ item.product.title }}</strong>
                  <span class="current" style="color:rgba(212,175,55,.95);">{{ item.final_line_price | money }}</span>
                </div>
                <div class="small">{{ item.variant.title }}</div>
                <div style="margin-top:8px;">
                  <input class="input" style="max-width:120px;" type="number" name="updates[]" value="{{ item.quantity }}" min="0">
                </div>
              </div>
              <a class="btn" style="height:40px;" href="{{ item.url_to_remove }}">{{ 'cart.general.remove' | t }}</a>
            </div>
          {% endfor %}

          <div style="display:flex;justify-content:space-between;align-items:center;gap:14px;padding-top:14px;">
            <button class="btn" type="submit" name="update">{{ 'cart.general.update' | t }}</button>
            <div style="display:flex;align-items:center;gap:12px;">
              <span class="badge">{{ 'cart.general.total' | t }}: {{ cart.total_price | money }}</span>
              <button class="btn primary" type="submit" name="checkout">{{ 'cart.general.checkout' | t }}</button>
            </div>
          </div>
        </form>
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{ "name": "Panier", "settings": [] }
{% endschema %}
